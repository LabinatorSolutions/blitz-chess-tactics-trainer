@use "../../../assets/stylesheets/_colors" as *
@use "../../../assets/stylesheets/_variables" as *

.haste-mode
  .haste-under-board
    margin-top: 10px

    .sidebar-label
      font-size: 13px
      color: rgba(255,255,255,0.5)
      margin-bottom: 15px

    .difficulties
      margin-bottom: 30px

      .difficulty
        color: rgba(255,255,255,0.5)
        padding: 8px 0
        cursor: pointer
        text-transform: capitalize
        font-size: 18px
        user-select: none
        transition: all 0.2s ease

        &:hover
          color: rgba(255,255,255,0.7)

        &.selected
          color: white

    .stats
      margin-bottom: 30px
      transition: opacity 0.5s ease

      .n-puzzles
        font-size: 30px
        margin-top: 15px

    .timers
      height: 100%
      display: flex
      flex-direction: column
      align-items: center
      justify-content: space-evenly

      .description
        font-size: 16px
        line-height: 22px
        height: 44px
        margin-left: 1px
        opacity: 0.7

    // haste-specific styles
    .haste-bar
      background-color: #2c7aa7
      background: linear-gradient(to right, #2c7aa7, #5cbae5)
      border-radius: 4px
      height: 8px
      margin-bottom: 15px
      overflow: hidden
      position: relative
      width: 100%

      .fill
        background: rgba(255,255,255,0.1)
        height: 100%
        width: 100%
        transition: width 0.1s ease

      &.almost-empty .fill
        background: rgba(255,100,100,0.3)

    .no-more-left
      line-height: 26px
      opacity: 0.7

  // shows up under the board after a level is complete
  .haste-complete
    display: flex
    gap: 32px

    .score-section
      flex-direction: row
      gap: 40px

    .score-container
      margin-bottom: 16px
      align-items: center

      .score
        font-size: 28px
        margin-top: 8px

// Played puzzles section styling (outside Vue app, similar to three mode)
.played-puzzles-section
  margin-top: 40px
  margin-bottom: 4rem
  padding: 30px 0
  background: rgba(0, 0, 0, 0.2)
  width: 100%
  max-width: 100%
  overflow-x: hidden
  box-sizing: border-box

  .container
    max-width: 100%
    width: 100%
    overflow-x: hidden
    box-sizing: border-box
    padding: 0 20px
    
    h3
      text-align: center
      margin-bottom: 30px
      color: rgba(255, 255, 255, 0.9)

    .played-puzzles-list
      display: grid
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr))
      gap: 30px
      max-width: 1000px
      margin: 0 auto
      padding: 0
      justify-items: center
      box-sizing: border-box
      width: 100%
      overflow-x: hidden

      .played-puzzle-item
        display: flex
        flex-direction: column
        align-items: center
        padding: 20px
        background: rgba(255, 255, 255, 0.05)
        border-radius: 8px
        border: 1px solid rgba(255, 255, 255, 0.1)
        width: 100%
        max-width: 280px
        min-width: 0
        box-sizing: border-box
        position: relative

        .puzzle-number
          position: absolute
          top: 8px
          left: 8px
          background: rgba(27, 73, 171, 0.9)
          color: white
          border-radius: 50%
          width: 32px
          height: 32px
          display: flex
          align-items: center
          justify-content: center
          font-weight: bold
          font-size: 14px
          z-index: 1

        .mistake-badge
          position: absolute
          top: 8px
          right: 8px
          background: rgba(128, 57, 170, 0.9)
          color: white
          border-radius: 12px
          padding: 4px 8px
          font-size: 11px
          font-weight: bold
          z-index: 1

        .puzzle-miniboard
          margin-bottom: 10px
          
          .miniboard-link
            display: block
            text-decoration: none
          
          .mini-chessboard
            width: 200px
            height: 200px

        .puzzle-info
          text-align: center

          .puzzle-meta
            display: flex
            flex-direction: column
            gap: 4px
            margin-bottom: 8px

            .puzzle-id
              font-size: 12px
              color: rgba(255, 255, 255, 0.6)

            .solve-time
              font-size: 14px
              color: rgba(255, 255, 255, 0.8)
              font-weight: bold

            .unsolved-status
              font-size: 14px
              color: rgba(255, 200, 100, 0.9)
              font-weight: bold
              font-style: italic

          .puzzle-actions
            .view-solution-btn
              background: rgba(27, 73, 171, 0.8)
              color: white
              border: none
              padding: 6px 12px
              border-radius: 4px
              font-size: 12px
              cursor: pointer
              transition: all 0.2s ease, opacity 0.3s ease
              opacity: 1
              min-width: 120px
              text-align: center

              &:hover
                background: rgba(27, 73, 171, 1)

              &:disabled
                opacity: 0.5
                cursor: not-allowed